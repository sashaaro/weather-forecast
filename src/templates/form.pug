extends layout/main.pug

block content
    form(method='post')
        div.form-group
            label Город
            select.form-control(name="city")
                each city, index in cities
                    option(value=index selected= (widget.city = index) ? true : false)= city
        div.form-group
            label На сколько дней выдавать прогноз
            select.form-control(name="period")
                each period in periods
                    option(value=period)= period
        div.form-group
            label Положение блока на странице
            select.form-control(name="position")
                each position, index in positions
                    option(value=index)= position
        button(type="submit" class="btn btn-primary")= (widget.id ? 'Редактировать #' + widget.id  : 'Добавить')

    if widget.id
        h4 Example
        script(src="/init_widget_script.js")
        link(href="/widget.css", rel="stylesheet")
        div.weather-forecast(data-id=widget.id)
        script.
            initWeatherForeCastWidget(#{widget.id})


